<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Beställningsformulär - IFK Lidingö Bordtennis</title>
  <style>
    /* Grundlayout: delad i två kolumner */
    body {
      margin: 0; 
      padding: 0; 
      font-family: Arial, sans-serif;
      background-color: #001F3F; /* Marinblå bakgrund */
      color: #fff;
      display: flex; 
      min-height: 100vh;
    }
    .left-col {
      flex: 1; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      background-color: #001933; /* något mörkare nyans */
      padding: 20px;
    }
    .left-col h1 {
      font-size: 3rem;
      text-align: center;
    }
    .right-col {
      flex: 2; 
      padding: 20px; 
      display: flex; 
      align-items: center; 
      justify-content: center;
    }

    /* Formens container */
    form {
      background-color: #fff; 
      color: #333;
      padding: 20px; 
      border-radius: 8px; 
      max-width: 700px; 
      width: 100%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    form h2 {
      margin-top: 20px;
    }
    .product {
      border: 1px solid #ccc; 
      padding: 15px; 
      margin-bottom: 20px; 
      border-radius: 4px;
    }
    .product img {
      max-width: 120px; 
      display: block; 
      margin-bottom: 10px;
    }
    label {
      font-weight: bold; 
      margin-top: 10px; 
      display: block;
    }
    input, select, textarea {
      width: 100%; 
      padding: 10px; 
      margin-bottom: 10px; 
      border: 1px solid #ccc; 
      border-radius: 4px;
      font-size: 1rem;
    }
    input[type="number"] {
      max-width: 100px;
    }
    .total-container {
      background: #eef; 
      padding: 15px; 
      margin: 15px 0; 
      border-radius: 4px; 
      font-weight: bold;
      color: #333;
    }
    input[type="submit"] {
      background-color: #007bff; 
      color: #fff; 
      border: none; 
      cursor: pointer; 
      padding: 15px;
      font-size: 1rem;
      border-radius: 4px;
    }
    input[type="submit"]:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <!-- Vänstra kolumnen: IFK Lidingö -->
  <div class="left-col">
    <h1>IFK<br/>Lidingö</h1>
  </div>

  <!-- Högra kolumnen: Formuläret -->
  <div class="right-col">
    <form action="https://formspree.io/f/xoveqpdr" method="POST" onsubmit="buildSummary()">

      <label for="namn">För- och efternamn:</label>
      <input type="text" id="namn" name="namn" required />

      <label for="adress">Leveransadress:</label>
      <textarea id="adress" name="adress" rows="2" required></textarea>

      <label for="mobilnummer">Mobilnummer:</label>
      <input type="tel" id="mobilnummer" name="mobilnummer" required />

      <label for="mejl">Mejladress:</label>
      <input type="email" id="mejl" name="mejl" required />

      <h2>Välj plagg, storlek och antal:</h2>

      <!-- Produkt: T-shirt #1 -->
      <div class="product">
        <img src="https://via.placeholder.com/120x120?text=T-Shirt+1" alt="T-shirt 1"/>
        <p><strong>Donic T-shirt Drop Navy/Cyanblue #1</strong><br/>
        Artikelnummer: <span id="tshirt_artnr1">S82440231</span><br/>
        Pris/st: <span id="tshirt_pris1">525</span> kr<br/>
        Namntryck: 100 kr (om du anger namntryck)</p>

        <label for="tshirt_size1">Storlek</label>
        <select id="tshirt_size1">
          <option value="">(Ingen)</option>
          <option value="140">140</option>
          <option value="152">152</option>
          <option value="XXS">XXS</option>
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
          <option value="XXL">XXL</option>
          <option value="3XL">3XL</option>
          <option value="4XL">4XL</option>
        </select>

        <label for="tshirt_qty1">Antal</label>
        <input type="number" id="tshirt_qty1" min="0" value="0" />

        <label for="tshirt_namntryck1">Namntryck</label>
        <input type="text" id="tshirt_namntryck1" placeholder="Ex: Falkehag" />
      </div>

      <!-- T-shirt #2 -->
      <div class="product">
        <img src="https://via.placeholder.com/120x120?text=T-Shirt+2" alt="T-shirt 2"/>
        <p><strong>Donic T-shirt Drop Navy/Cyanblue #2</strong><br/>
        Artikelnummer: <span id="tshirt_artnr2">S82440232</span><br/>
        Pris/st: <span id="tshirt_pris2">525</span> kr<br/>
        Namntryck: 100 kr (om du anger namntryck)</p>

        <label for="tshirt_size2">Storlek</label>
        <select id="tshirt_size2">
          <option value="">(Ingen)</option>
          <option value="140">140</option>
          <option value="152">152</option>
          <option value="XXS">XXS</option>
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
          <option value="XXL">XXL</option>
          <option value="3XL">3XL</option>
          <option value="4XL">4XL</option>
        </select>

        <label for="tshirt_qty2">Antal</label>
        <input type="number" id="tshirt_qty2" min="0" value="0"/>

        <label for="tshirt_namntryck2">Namntryck</label>
        <input type="text" id="tshirt_namntryck2" placeholder="Ex: Falkehag" />
      </div>

      <!-- Shorts -->
      <div class="product">
        <img src="https://via.placeholder.com/120x120?text=Shorts" alt="Shorts Beam Navy"/>
        <p><strong>Shorts Beam Navy</strong><br/>
        Artikelnummer: <span id="shorts_artnr">S82440250</span><br/>
        Pris/st: <span id="shorts_pris">300</span> kr</p>

        <label for="shorts_size">Storlek</label>
        <select id="shorts_size">
          <option value="">(Ingen)</option>
          <option value="140">140</option>
          <option value="152">152</option>
          <option value="XXS">XXS</option>
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
          <option value="XXL">XXL</option>
          <option value="3XL">3XL</option>
          <option value="4XL">4XL</option>
        </select>

        <label for="shorts_qty">Antal</label>
        <input type="number" id="shorts_qty" min="0" value="0" />
      </div>

      <!-- Overall #1 -->
      <div class="product">
        <img src="https://via.placeholder.com/120x120?text=Overall+1" alt="Overall Capri Navy 1"/>
        <p><strong>Overall Capri Navy #1</strong><br/>
        Artikelnummer: <span id="ovr_artnr1">S82440300</span><br/>
        Pris/st: <span id="ovr_pris1">1100</span> kr<br/>
        Namntryck: 100 kr (om du anger namntryck)</p>

        <label for="ovr_size1">Storlek</label>
        <select id="ovr_size1">
          <option value="">(Ingen)</option>
          <option value="140">140</option>
          <option value="152">152</option>
          <option value="XXS">XXS</option>
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
          <option value="XXL">XXL</option>
          <option value="3XL">3XL</option>
          <option value="4XL">4XL</option>
        </select>

        <label for="ovr_qty1">Antal</label>
        <input type="number" id="ovr_qty1" min="0" value="0" />

        <label for="ovr_namntryck1">Namntryck</label>
        <input type="text" id="ovr_namntryck1" placeholder="Ex: Falkehag" />
      </div>

      <!-- Overall #2 -->
      <div class="product">
        <img src="https://via.placeholder.com/120x120?text=Overall+2" alt="Overall Capri Navy 2"/>
        <p><strong>Overall Capri Navy #2</strong><br/>
        Artikelnummer: <span id="ovr_artnr2">S82440301</span><br/>
        Pris/st: <span id="ovr_pris2">1100</span> kr<br/>
        Namntryck: 100 kr (om du anger namntryck)</p>

        <label for="ovr_size2">Storlek</label>
        <select id="ovr_size2">
          <option value="">(Ingen)</option>
          <option value="140">140</option>
          <option value="152">152</option>
          <option value="XXS">XXS</option>
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
          <option value="XXL">XXL</option>
          <option value="3XL">3XL</option>
          <option value="4XL">4XL</option>
        </select>

        <label for="ovr_qty2">Antal</label>
        <input type="number" id="ovr_qty2" min="0" value="0" />

        <label for="ovr_namntryck2">Namntryck</label>
        <input type="text" id="ovr_namntryck2" placeholder="Ex: Falkehag" />
      </div>

      <!-- Visuell total för kunden -->
      <div class="total-container">
        <div id="totalDisplay">Totalt: 0 kr</div>
      </div>

      <!-- Dold input som håller sammanfattning för Formspree -->
      <input type="hidden" name="Beställning" id="order_summary" />

      <input type="submit" value="Skicka Beställning" />
    </form>
  </div>

  <script>
    // Hämtar textinnehåll (pris) från <span>-element
    function getPrice(id) {
      return parseFloat(document.getElementById(id).textContent.trim());
    }

    // Kolla om namnfältet är tomt. Är det fyllt -> +100 kr
    function nameTryckExtraCost(nameFieldId) {
      const val = document.getElementById(nameFieldId).value.trim();
      if(val !== '') {
        return 100;  // Namntryck kostar 100 kr
      }
      return 0;
    }

    // Räkna ut total
    function calculateTotal() {
      // T-shirt #1
      let tshirtPrice1 = getPrice('tshirt_pris1');
      let tshirtQty1   = parseInt(document.getElementById('tshirt_qty1').value) || 0;
      let tshirtNamn1  = nameTryckExtraCost('tshirt_namntryck1');

      // T-shirt #2
      let tshirtPrice2 = getPrice('tshirt_pris2');
      let tshirtQty2   = parseInt(document.getElementById('tshirt_qty2').value) || 0;
      let tshirtNamn2  = nameTryckExtraCost('tshirt_namntryck2');

      // Shorts
      let shortsPrice = getPrice('shorts_pris');
      let shortsQty   = parseInt(document.getElementById('shorts_qty').value) || 0;

      // Overall #1
      let ovrPrice1   = getPrice('ovr_pris1');
      let ovrQty1     = parseInt(document.getElementById('ovr_qty1').value) || 0;
      let ovrNamn1    = nameTryckExtraCost('ovr_namntryck1');

      // Overall #2
      let ovrPrice2   = getPrice('ovr_pris2');
      let ovrQty2     = parseInt(document.getElementById('ovr_qty2').value) || 0;
      let ovrNamn2    = nameTryckExtraCost('ovr_namntryck2');

      // Räkna ihop
      let total = (tshirtPrice1 * tshirtQty1 + tshirtNamn1 * tshirtQty1) +
                  (tshirtPrice2 * tshirtQty2 + tshirtNamn2 * tshirtQty2) +
                  (shortsPrice  * shortsQty) +
                  (ovrPrice1    * ovrQty1 + ovrNamn1 * ovrQty1) +
                  (ovrPrice2    * ovrQty2 + ovrNamn2 * ovrQty2);

      document.getElementById('totalDisplay').textContent = `Totalt: ${total} kr`;
      return total;
    }

    // Skapa en textsammanfattning (onsubmit)
    function buildSummary() {
      let total = calculateTotal(); // räkna totalen

      // Kunduppgifter
      let kundNamn   = document.getElementById('namn').value;
      let kundAdress = document.getElementById('adress').value;
      let kundMobil  = document.getElementById('mobilnummer').value;
      let kundMejl   = document.getElementById('mejl').value;

      // T-shirt #1
      let tshirtArtNr1 = document.getElementById('tshirt_artnr1').textContent;
      let tshirtPris1  = getPrice('tshirt_pris1');
      let tshirtSize1  = document.getElementById('tshirt_size1').value || '(Ingen)';
      let tshirtQty1   = document.getElementById('tshirt_qty1').value || '0';
      let tshirtNtryck1= document.getElementById('tshirt_namntryck1').value.trim();
      let tshirtNamnCost1 = (tshirtNtryck1 !== '') ? 100 : 0;

      // T-shirt #2
      let tshirtArtNr2 = document.getElementById('tshirt_artnr2').textContent;
      let tshirtPris2  = getPrice('tshirt_pris2');
      let tshirtSize2  = document.getElementById('tshirt_size2').value || '(Ingen)';
      let tshirtQty2   = document.getElementById('tshirt_qty2').value || '0';
      let tshirtNtryck2= document.getElementById('tshirt_namntryck2').value.trim();
      let tshirtNamnCost2 = (tshirtNtryck2 !== '') ? 100 : 0;

      // Shorts
      let shortsArtNr  = document.getElementById('shorts_artnr').textContent;
      let shortsPris   = getPrice('shorts_pris');
      let shortsSize   = document.getElementById('shorts_size').value || '(Ingen)';
      let shortsQty    = document.getElementById('shorts_qty').value || '0';

      // Overall #1
      let ovrArtNr1    = document.getElementById('ovr_artnr1').textContent;
      let ovrPris1     = getPrice('ovr_pris1');
      let ovrSize1     = document.getElementById('ovr_size1').value || '(Ingen)';
      let ovrQty1      = document.getElementById('ovr_qty1').value || '0';
      let ovrNtryck1   = document.getElementById('ovr_namntryck1').value.trim();
      let ovrNamnCost1 = (ovrNtryck1 !== '') ? 100 : 0;

      // Overall #2
      let ovrArtNr2    = document.getElementById('ovr_artnr2').textContent;
      let ovrPris2     = getPrice('ovr_pris2');
      let ovrSize2     = document.getElementById('ovr_size2').value || '(Ingen)';
      let ovrQty2      = document.getElementById('ovr_qty2').value || '0';
      let ovrNtryck2   = document.getElementById('ovr_namntryck2').value.trim();
      let ovrNamnCost2 = (ovrNtryck2 !== '') ? 100 : 0;

      // Bygg text
      let textSummary = `
**Kunduppgifter**
Namn: ${kundNamn}
Adress: ${kundAdress}
Mobil: ${kundMobil}
Mejl: ${kundMejl}

**T-shirt #1** 
Artikelnr: ${tshirtArtNr1}
Storlek: ${tshirtSize1}
Antal: ${tshirtQty1}
Namntryck: ${tshirtNtryck1 ? tshirtNtryck1 : 'Inget'}
Pris/st: ${tshirtPris1} kr
Namntryck/t-shirt: ${tshirtNamnCost1} kr

**T-shirt #2** 
Artikelnr: ${tshirtArtNr2}
Storlek: ${tshirtSize2}
Antal: ${tshirtQty2}
Namntryck: ${tshirtNtryck2 ? tshirtNtryck2 : 'Inget'}
Pris/st: ${tshirtPris2} kr
Namntryck/t-shirt: ${tshirtNamnCost2} kr

**Shorts Beam**
Artikelnr: ${shortsArtNr}
Storlek: ${shortsSize}
Antal: ${shortsQty}
Pris/st: ${shortsPris} kr

**Overall #1** 
Artikelnr: ${ovrArtNr1}
Storlek: ${ovrSize1}
Antal: ${ovrQty1}
Namntryck: ${ovrNtryck1 ? ovrNtryck1 : 'Inget'}
Pris/st: ${ovrPris1} kr
Namntryck/overall: ${ovrNamnCost1} kr

**Overall #2** 
Artikelnr: ${ovrArtNr2}
Storlek: ${ovrSize2}
Antal: ${ovrQty2}
Namntryck: ${ovrNtryck2 ? ovrNtryck2 : 'Inget'}
Pris/st: ${ovrPris2} kr
Namntryck/overall: ${ovrNamnCost2} kr

------------------
**Totalt beräknat pris:** ${total} kr
(inkl. namntryck om angett)

OBS! Frakt kan tillkomma.
      `;

      // Lagra i dolt fält
      document.getElementById('order_summary').value = textSummary;
    }

    // Uppdatera total varje gång användaren ändrar kvantitet eller namntryck
    const fieldsToWatch = [
      'tshirt_qty1','tshirt_qty2','tshirt_namntryck1','tshirt_namntryck2',
      'shorts_qty','ovr_qty1','ovr_namntryck1','ovr_qty2','ovr_namntryck2'
    ];
    fieldsToWatch.forEach(id => {
      document.getElementById(id).addEventListener('input', calculateTotal);
    });

    // Sätt start-värde på total:
    calculateTotal();
  </script>
</body>
</html>
